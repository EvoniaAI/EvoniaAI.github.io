---
const currentPath = Astro.url.pathname;
const isHomePage = currentPath === '/';

const navLinks = isHomePage ? [
  { href: "#about", label: "About 关于" },
  { href: "#services", label: "Services 服务" },
  { href: "#approach", label: "Approach 方法" },
  { href: "/pricing", label: "Pricing 价格" },
  { href: "#contact", label: "Contact 联系" }
] : [
  { href: "/#about", label: "About 关于" },
  { href: "/#services", label: "Services 服务" },
  { href: "/pricing", label: "Pricing 价格" },
  { href: "/#contact", label: "Contact 联系" }
];
---

<header class="z-10 bg-neutral-900/40 w-full sticky top-0 backdrop-blur p-4">
  <div
    class="whitespace-nowrap select-none max-w-screen-lg w-full flex justify-between items-center mx-auto"
  >
    <div class="flex justify-center items-center">
      <a href="/" class="flex justify-center items-center">
        <div class="flex h-8 w-8 items-center justify-center rounded-full bg-brand font-semibold text-slate-950">
          EA
        </div>
        <span
          class="text-white/70 ml-3 hover:text-white/90 duration-100 transition-colors"
        >
          EvoniaAI · 灵栈平云
        </span>
      </a>
      <div class="h-4 w-0.5 bg-white/50 mx-4 hidden lg:block"></div>
      <ul class="text-white/70 hidden lg:flex items-center justify-center gap-4">
        {
          navLinks.map((link) => (
            <li class="hover:text-white/90 duration-100 transition-colors">
              <a
                href={link.href}
                class="flex items-center justify-center"
              >
                {link.label}
              </a>
            </li>
          ))
        }
      </ul>
    </div>
    <div
      class="text-white/70 hover:text-white/90 duration-100 transition-colors"
    >
      <a
        href="https://i.annatarhe.com/"
        target="_blank"
        rel="noreferrer"
        class="rounded-full border border-white/30 px-4 py-1.5 text-sm font-semibold transition hover:border-brand hover:bg-brand hover:text-slate-950"
      >
        Founder 创始人
      </a>
    </div>

    <!-- Mobile Menu -->
    <details class="group relative md:hidden">
      <summary class="list-none rounded-full border border-white/20 px-4 py-2 text-sm text-white/80">
        Menu 菜单
      </summary>
      <div class="absolute right-0 mt-3 w-48 rounded-2xl border border-white/15 bg-slate-900/95 p-3 shadow-xl">
        <nav class="flex flex-col gap-3 text-sm text-white/80">
          {navLinks.map((link) => (
            <a href={link.href} class="rounded-lg px-3 py-2 transition hover:bg-white/10 hover:text-white">
              {link.label}
            </a>
          ))}
          <a
            href="https://i.annatarhe.com/"
            target="_blank"
            rel="noreferrer"
            class="rounded-lg border border-brand-soft px-3 py-2 text-center font-semibold text-brand-soft hover:border-brand hover:bg-brand hover:text-slate-950"
          >
            Founder 创始人
          </a>
        </nav>
      </div>
    </details>
  </div>
</header>